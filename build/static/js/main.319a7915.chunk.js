(this["webpackJsonpestagio-betabit"]=this["webpackJsonpestagio-betabit"]||[]).push([[0],{101:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(30),i=n.n(r),s=(n(101),n(17)),o=n(70),u=n(151),l=(n(74),n(158)),j=Object(a.createContext)(),d=n(23),b=n(19),m=n.n(b),f=n(164),x=n(165),p=n(166),O=n(163),h=n(167),g=n(149),v=n(82),y=n.n(v),C={API_URL:"https://contacts-bk.herokuapp.com/contacts/"};function w(e){return"number"===typeof+e?[e]:e.split(",").map((function(e){return Number(e.replace(/\s/g,""))}))}function S(e){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(m.a.mark((function e(t){var n,a,c,r,i,s,o,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newContact,a=n.name,c=n.email,r=n.image,i=n.phone,s=w(i),o={headers:{"Content-Type":"application/json; charset=UTF-8"},method:"POST",body:JSON.stringify({name:a,email:c,image:r,phoneNumbers:s})},e.next=7,fetch(C.API_URL,o);case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(m.a.mark((function e(t){var n,a,c,r,i,s,o,u,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newContact,a=t.id,c=n.editName,r=n.editEmail,i=n.editImage,s=n.editPhone,o=w(s),u={headers:{"Content-Type":"application/json; charset=UTF-8"},method:"PUT",body:JSON.stringify({name:c,email:r,image:i,phoneNumbers:o})},e.next=7,fetch("".concat(C.API_URL).concat(a),u);case 7:return l=e.sent,e.next=10,l.json();case 10:return j=e.sent,e.abrupt("return",j);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json; charset=UTF-8"},method:"DELETE"},e.next=4,fetch("".concat(C.API_URL).concat(t),n);case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(11),P=n(81),R=n.n(P),V=n(159),U=n(160),A=n(150),L=n(161),_=n(152),F=n(2);function J(e){var t=e.value,n=e.fieldName,a=e.setValue;return Object(F.jsx)(_.a,{id:"outlined-basic",type:"text",label:n,name:n,defaultValue:t,onChange:function(e){return a(e.target.value)},required:!0,variant:"standard"})}var B=n(148),q=n(157),z=n(154),M=n(80),W=n.n(M),G={width:"16em",height:"10em",bgcolor:"#878787","&:hover":{backgroundColor:"#555555",opacity:[.9,.8,.7]},position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"2px solid #000",borderRadius:7,boxShadow:39,display:"flex",flexDirection:"column",justifyContent:"center"};function H(e,t){var n=Object(a.useContext)(j),c=n.editing,r=n.setEditing,i=n.setNewData,s=Object(a.useState)(!1),o=Object(T.a)(s,2),u=o[0],l=o[1],b=Object(a.useState)(""),f=Object(T.a)(b,2),x=f[0],p=f[1];function h(){return(h=Object(d.a)(m.a.mark((function n(){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=6;break}return n.next=3,k(e,t);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,S(e);case 8:n.t0=n.sent;case 9:(a=n.t0).message?p(a.error||a.message.message):p("Dados Salvos!"),l(!0),c&&r(!1),i({shouldRender:!0});case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var v=function(){l(!1)};return Object(F.jsxs)(B.a,{spacing:2,sx:{width:"100%"},children:[Object(F.jsx)(q.a,{variant:"outlined",onClick:function(){return h.apply(this,arguments)},sx:{marginTop:2},children:"Save"}),Object(F.jsx)(z.a,{open:u,onClose:v,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(F.jsx)(g.a,{sx:G,onClick:v,children:Object(F.jsxs)(O.a,{id:"modal-modal-description",color:"black",sx:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)(W.a,{}),x]})})})]})}function K(){var e=Object(a.useContext)(j),t=e.editData,n=(e.data,t.name),c=t.email,r=t.image,i=t.id,s=t.phoneNumbers[0],o=Object(a.useState)(n),u=Object(T.a)(o,2),d=u[0],b=u[1],m=Object(a.useState)(c),f=Object(T.a)(m,2),x=f[0],p=f[1],O=Object(a.useState)(r),h=Object(T.a)(O,2),g=h[0],v=h[1],y=Object(a.useState)(s),C=Object(T.a)(y,2),w=C[0],S=C[1],N={editName:d,editEmail:x,editImage:g,editPhone:w};return Object(F.jsx)("div",{children:Object(F.jsx)(l.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(F.jsxs)(L.a,{children:[Object(F.jsx)(J,{value:d.toString(),fieldName:"Name",setValue:b}),Object(F.jsx)(J,{value:x.toString(),fieldName:"Email",setValue:p}),Object(F.jsx)(J,{value:g.toString(),fieldName:"Image",setValue:v}),Object(F.jsx)(J,{value:w.toString(),fieldName:"Phone",setValue:S}),Object(F.jsx)(H,{newContact:N,id:i})]})})})}function Q(){var e=Object(a.useState)(!1),t=Object(T.a)(e,2),n=t[0],c=t[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(A.a,{variant:"outlined",onClick:function(){c(!0)},children:Object(F.jsx)(R.a,{})}),Object(F.jsx)(V.a,{open:n,onClose:function(){c(!1)},children:Object(F.jsx)(U.a,{children:Object(F.jsx)(K,{})})})]})}function X(){var e=Object(a.useContext)(j),t=e.data,n=e.setData,c=e.setEditData,r=e.setEditing;function i(){return(i=Object(d.a)(m.a.mark((function e(a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(a);case 2:c=t.filter((function(e){return e.id!==a})),n(c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(F.jsx)(l.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:t.map((function(e,n){var a=e.id,s=e.name,o=e.email,u=e.image,l=e.phoneNumbers;return Object(F.jsxs)(f.a,{sx:{display:"flex",margin:"0.2em",marginLeft:"1.2em",borderRadius:5},children:[Object(F.jsx)(x.a,{component:"img",sx:{width:151},image:u,alt:"".concat(s," profile picture")}),Object(F.jsxs)(g.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(F.jsxs)(p.a,{sx:{flex:"1 0 auto",width:"13em",height:"9.3em"},children:[Object(F.jsx)(O.a,{component:"div",variant:"h5",children:s}),Object(F.jsx)(O.a,{variant:"subtitle2",color:"text.secondary",component:"div",noWrap:!0,children:o}),l.map((function(e,t){return Object(F.jsx)(O.a,{variant:"subtitle2",color:"text.secondary",component:"div",children:e},s+t)}))]}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around",pl:1,pb:1},children:[Object(F.jsx)(h.a,{"aria-label":"delete",id:a,onClick:function(e){e.target;return function(e){return i.apply(this,arguments)}(a)},children:Object(F.jsx)(y.a,{})}),Object(F.jsx)(h.a,{"aria-label":"edit",id:a,onClick:function(e){e.target;return function(e){var n=t.find((function(t){return t.id===e}));c(n),r(!0)}(a)},children:Object(F.jsx)(Q,{})})]})]})]},n)}))})}function Y(){return Object(F.jsx)(X,{})}var Z=function(){var e=Object(a.useContext)(j),t=e.newData,n=e.setNewData;return Object(a.useEffect)((function(){console.log("useEffect"),!0===t.shouldRender&&n({shouldRender:!1})}),[t,n]),Object(F.jsx)(l.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",style:{marginTop:"2em"},children:Object(F.jsx)(Y,{})})};function $(){var e=Object(a.useState)(""),t=Object(T.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(T.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(""),j=Object(T.a)(u,2),d=j[0],b=j[1],m=Object(a.useState)(""),f=Object(T.a)(m,2),x=f[0],p=f[1],O={name:n,email:s,image:d,phone:x};return Object(F.jsx)("div",{children:Object(F.jsx)(l.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(F.jsxs)(L.a,{children:[Object(F.jsx)(J,{value:n,fieldName:"Name",setValue:c}),Object(F.jsx)(J,{value:s,fieldName:"Email",setValue:o}),Object(F.jsx)(J,{value:d,fieldName:"Image",setValue:b}),Object(F.jsx)(J,{value:x,fieldName:"Phone",setValue:p}),Object(F.jsx)(H,{newContact:O})]})})})}var ee=function(){return Object(F.jsxs)("main",{className:"main-content",children:[Object(F.jsx)($,{}),Object(F.jsx)(O.a,{variant:"h4",gutterBottom:!0,sx:{textAlign:"center",marginTop:3},children:"CONTACTS"}),Object(F.jsx)(Z,{})]})};var te=function(){return Object(F.jsxs)(s.c,{theme:function(){return Object(o.a)({palette:{mode:"dark"}})},children:[Object(F.jsx)(u.a,{}),Object(F.jsx)(ee,{})]})};var ne=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(T.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),o=Object(T.a)(s,2),u=o[0],l=o[1],b=Object(a.useState)(!1),f=Object(T.a)(b,2),x=f[0],p=f[1],O=Object(a.useState)({}),h=Object(T.a)(O,2),g=h[0],v=h[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C.API_URL);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("fez o fet")}),[g]),Object(F.jsx)(j.Provider,{value:{data:r,setData:i,editData:u,setEditData:l,editing:x,setEditing:p,newData:g,setNewData:v},children:t})};i.a.render(Object(F.jsx)(ne,{children:Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(te,{})})}),document.getElementById("root"))},74:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.319a7915.chunk.js.map